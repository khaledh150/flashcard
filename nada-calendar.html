<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Nada Calendar Game</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&family=Nunito:wght@700&display=swap" rel="stylesheet">
  <style>
    html, body { margin: 0; padding: 0; height: 100%; background: #fff; font-family: 'Quicksand', 'Nunito', Arial, sans-serif; overflow: hidden; width: 100vw; height: 100vh; box-sizing: border-box; user-select: none;}
    body { width: 100vw; height: 100vh; position: relative; overflow: hidden;}
    .logo-fixed { position: fixed; top: 2vw; left: 2vw; z-index: 100; width: 12vw; min-width: 66px; max-width: 120px; height: auto; pointer-events: none; border-radius: 2vw; background: none; box-shadow: 0 2px 7px rgba(80,180,255,0.07);}
    .logo-wk { position: fixed; top: 2vw; right: 2vw; z-index: 100; width: 12vw; min-width: 66px; max-width: 120px; height: auto; pointer-events: none; border-radius: 2vw; background: none; box-shadow: 0 2px 7px rgba(80,180,255,0.07);}
    .mascot-box { position: fixed; left: 0; bottom: 0; z-index: 30; padding: 1vw 0.6vw; pointer-events: none; user-select: none; min-width: 48px;}
    #nadamascot { width: 11vw; min-width: 44px; max-width: 88px; height: auto; animation: mascotFloat 3.7s ease-in-out infinite alternate, mascotWave 2.6s ease-in-out infinite; filter: drop-shadow(0 6px 20px rgba(120,180,255,0.14)); }
    @keyframes mascotFloat { 0% { transform: translateY(0) scale(1);} 40% { transform: translateY(-10px) scale(1.03);} 60% { transform: translateY(-16px) scale(1.02);} 100% { transform: translateY(0) scale(1);} }
    @keyframes mascotWave { 0%, 100% { transform: rotate(-2deg);} 10% { transform: rotate(3deg);} 20% { transform: rotate(-3deg);} 30% { transform: rotate(2deg);} 40% { transform: rotate(-2deg);} 50% { transform: rotate(2deg);} 60% { transform: rotate(-2deg);} 70% { transform: rotate(2deg);} 80% { transform: rotate(-2deg);} 90% { transform: rotate(1deg);} }
    .main-centerer { width: 100vw; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative;}
    #settingsBox {
      margin-top: 11vh; width: 100vw; text-align: center;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
    }
    .speed-row { display: flex; align-items: center; justify-content: center; gap: 1em; margin-bottom: 0.9em;}
    #settingsBox label { font-size: 2em; color: #273c78; font-weight: 700; background: none; display: inline-block; margin-right: 0.45em;}
    #settingsBox input[type="number"] { border-radius: 2em; border: none; padding: 0.18em 0.9em; background: #e9f4fd; font-family: inherit; font-weight: 700; width: 3.5em; text-align: center; font-size: 1.7em; margin-left: 0.15em;}
    #settingsBox button {
      background: linear-gradient(90deg,#56c7fa 0,#349afd 100%);
      color: white; border: none; border-radius: 3em;
      font-size: 1.6em; font-family: inherit; font-weight: 700; padding: 0.5em 2.5em;
      margin-top: 1.2em; cursor: pointer; box-shadow: 0 2px 16px rgba(90,180,255,0.11); letter-spacing: 0.04em; transition: background 0.15s;
      text-align: center;
    }
    #settingsBox button:active { background: linear-gradient(90deg,#1558be 0,#48a0ff 100%);}
    .toggle-row { display: flex; justify-content: center; align-items: center; margin: 1.2em 0 0.4em 0; }
    .toggle-label { margin: 0 0.4em; font-size: 1.25em; font-weight: 700; color: #6747cc;}
    .toggle-switch { appearance: none; width: 2.6em; height: 1.3em; background: #e6e6ef; border-radius: 1em; position: relative; outline: none; cursor: pointer; transition: background 0.2s;}
    .toggle-switch:checked { background: #6747cc; }
    .toggle-switch:before { content: ""; position: absolute; left: 0.22em; top: 0.17em; width: 0.95em; height: 0.95em; border-radius: 50%; background: #fff; transition: transform 0.22s;}
    .toggle-switch:checked:before { transform: translateX(1.18em);}
    .slot-machine-bar { display: flex; justify-content: center; align-items: center; width: 98vw; max-width: 1020px; gap: 1vw; }
    .slot-digit-group { display: flex; }
    .slot-container-gold {
      background: linear-gradient(180deg, #ffe278 0%, #d2a23e 90%, #fff1b0 100%);
      border-radius: 1.1vw;
      box-shadow: 0 3px 16px #be900066, 0 1.5px 0 #fff6e1 inset, 0 -1.5px 0 #baa04b inset;
      border: 4px solid #e7c457;
      width: 7vw; max-width: 52px; min-width: 29px;
      height: 10vw; max-height: 72px; min-height: 32px;
      display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative;
      margin: 0 0.15vw;
      transition: box-shadow 0.13s;
    }
    .slot-inner-gold {
      width: 100%; height: 100%;
      display: flex; align-items: center; justify-content: center;
      font-size: clamp(22px, 5vw, 42px);
      font-family: inherit; font-weight: 900; color: #d70b30;
      text-shadow: 0 5px 24px #ffdbaf44, 0 2px 0 #fff5, 0 1.5px 0 #b98320;
      transition: font-size 0.1s;
      letter-spacing: 0.06em;
      position: relative;
      will-change: transform, filter;
    }
    .slot-separator { font-size: clamp(20px,2.6vw,32px); font-weight: bold; color: #a29cc7; margin: 0 0.55vw;}
    @media (max-width: 700px) {
      .slot-container-gold { width: 11vw; min-width: 18px; max-width: 30px; height: 13vw; min-height: 17px; max-height: 34px;}
      .slot-inner-gold { font-size: clamp(13px, 4vw, 19px);}
      .slot-machine-bar { gap: 0.7vw;}
      #nadamascot { min-width: 60px; max-width: 120px; width: 18vw;}
      #settingsBox label, #settingsBox button, #settingsBox input[type="number"] { font-size: 1.15em !important;}
      .toggle-label { font-size: 1.05em; }
    }
    #calendarBox { display: none; justify-content: center; align-items: center; height: 72vh; width: 100vw; }
    #calendarView { margin: auto; width: 98vw; max-width: 720px; background: #fff; border-radius: 2.5vw; box-shadow: 0 4px 36px 0 rgba(72,120,255,0.07); font-family: inherit; transform: scale(1); transition: transform 0.38s cubic-bezier(.16,2,.22,.95);}
    .calendar-month-title { text-align: center; font-size: 2.3em; font-weight: bold; color: #6640d6; margin: 0.3em 0 0.05em 0; animation: pop 0.44s;}
    .calendar-table { width: 100%; border-spacing: 0.23em; border-collapse: separate; }
    .calendar-table th, .calendar-table td { font-size: 1.30em; text-align: center; border-radius: 0.7em; padding: 0.7em 0.37em; }
    .calendar-table th { color: #4b26ae; font-weight: bold;}
    .calendar-table td { color: #222; font-weight: bold; background: #f5f6fd; transition: background 0.33s;}
    .calendar-today { background: #ff3535 !important; color: #fff !important; font-weight: 900; font-size: 1.18em; box-shadow: 0 2px 14px #ff353533; animation: pop 0.45s;}
    .calendar-animate { transform: scale(1.18) rotate(-2deg); transition: transform 0.38s cubic-bezier(.16,2,.22,.95);}
    .calendar-day-label { text-align: center; font-size: 2.7em; color: #e32155; font-weight: 900; margin: 0.18em 0 0.25em 0; animation: pop 0.55s;}
    @keyframes pop { 0% { transform: scale(0.73); opacity: 0.5;} 70% { transform: scale(1.22); opacity: 1;} 100% { transform: scale(1); opacity: 1;} }
    .controls { position: fixed; left: 0; right: 0; bottom: 2.5vw; width: 100vw; z-index: 300; background: none; box-shadow: none; display: flex; flex-direction: row; justify-content: center; align-items: center; gap: 2vw; pointer-events: none;}
    .button-group { display: flex; flex-direction: row; gap: 2vw; justify-content: center; align-items: center; pointer-events: all; margin: 0;}
    .action-btn { background: linear-gradient(90deg,#56c7fa 0,#349afd 100%); color: white; border: none; padding: 0.5em 2em; border-radius: 3em; font-size: 1.25em; font-family: inherit; font-weight: 700; box-shadow: 0 2px 18px rgba(90,180,255,0.13); cursor: pointer; transition: background 0.15s, box-shadow 0.23s, transform 0.13s; outline: none; letter-spacing: 0.04em; min-width: 88px; margin: 0;}
    .action-btn:active { background: linear-gradient(90deg,#1558be 0,#48a0ff 100%); transform: scale(0.98);}
    #calendarShowAnswerBtn {
      background: linear-gradient(90deg,#a964fc 0,#7522d5 100%);
      font-weight: bold;
      border: none;
    }
    #calendarShowAnswerBtn:hover {
      background: linear-gradient(90deg,#9448db 0,#461196 100%);
    }
    @media (max-width: 700px) {
      .action-btn { font-size: 1em; min-width: 66px; padding: 0.32em 0.7em;}
      .controls { bottom: 1.5vw; }
    }
    #getreadyOverlay { position: fixed; left: 0; right: 0; top: 0; bottom: 0; background: rgba(255,255,255,0.88); z-index: 999; display: none; flex-direction: column; justify-content: center; align-items: center; font-size: clamp(2.3em, 8vw, 6.6em); font-family: inherit; font-weight: bold; color: #6747cc; text-align: center; letter-spacing: 0.03em; transition: background 0.33s; user-select: none;}
    .getready-text { color: #4881ff; margin-bottom: 0.2em; font-size: 1.1em; width: 100%; text-align: center; font-family: inherit; font-weight: bold;}
    .getready-count { color: #6747cc; font-size: 1.3em; margin: 0.2em 0; width: 100%; text-align: center; font-family: inherit; font-weight: bold; letter-spacing: 0.05em;}
    @media (max-width: 700px) { #calendarView { max-width: 100vw; } }
  </style>
</head>
<body>
  <img src="nada.png" alt="Logo" class="logo-fixed">
  <img src="wonderkids.png" alt="Wonder Kids" class="logo-wk">
  <div class="main-centerer">
    <div id="settingsBox">
      <div class="speed-row">
        <label for="calendarSpeedInput" data-i18n="speed">Speed</label>
        <input type="number" id="calendarSpeedInput" value="4" min="2" max="15" step="1" />
        <span data-i18n="seconds" style="margin-left:0.35em;">seconds</span>
      </div>
      <div class="toggle-row">
        <span class="toggle-label" data-i18n="normal_year">Normal year</span>
        <input type="checkbox" id="thaiYearToggle" class="toggle-switch" />
        <span class="toggle-label" data-i18n="thai_year">Thai year</span>
      </div>
      <button id="calendarStartBtn" data-i18n="start">START</button>
    </div>
    <div id="lotteryRow" style="display:none;">
      <div id="slotMachineBar" class="slot-machine-bar"></div>
    </div>
    <div id="calendarBox">
      <div id="calendarView"></div>
    </div>
  </div>
  <div class="controls" id="bottomControls" style="display: none;">
    <div class="button-group">
      <button id="calendarBackBtn" class="action-btn" data-i18n="back">Back</button>
      <button id="calendarShowAnswerBtn" class="action-btn" style="display:none;" data-i18n="show_answer">Show Answer</button>
      <button id="calendarNextBtn" class="action-btn" style="display:none;" data-i18n="next_round">Next Round</button>
    </div>
  </div>
  <div class="mascot-box">
    <img src="nadamascot.png" id="nadamascot" alt="Mascot">
  </div>
  <!-- Sounds -->
  <audio id="roulettewheel" src="roulettewheel.wav" preload="auto"></audio>
  <audio id="arcadebeep" src="Arcade-Attention-Beep.wav" preload="auto"></audio>
  <audio id="dingSound" src="ding.wav" preload="auto"></audio>
  <audio id="getready321" src="getready321.wav" preload="auto"></audio>
  <audio id="startbuzz" src="startbuzz.wav" preload="auto"></audio>
  <!-- Ready Overlay -->
  <div id="getreadyOverlay" class="getready-overlay">
    <div class="getready-text" id="getreadyText">Get Ready</div>
    <div class="getready-count" id="getreadyCount"></div>
  </div>
  <script>
    // Localization
    const translations = {
      speed: {en: "Speed", th: "ความเร็ว"},
      seconds: {en: "seconds", th: "วินาที"},
      start: {en: "START", th: "เริ่ม"},
      back: {en: "Back", th: "กลับ"},
      show_answer: {en: "Show Answer", th: "ดูคำตอบ"},
      next_round: {en: "Next Round", th: "รอบถัดไป"},
      normal_year: {en: "Normal year", th: "ปี ค.ศ."},
      thai_year: {en: "Thai year", th: "ปี พ.ศ."},
      get_ready: {en: "Get Ready", th: "เตรียมพร้อม"},
      go: {en:"Go!",th:"ไป!"},
      months: {en: ['January','February','March','April','May','June','July','August','September','October','November','December'],
        th: ['มกราคม','กุมภาพันธ์','มีนาคม','เมษายน','พฤษภาคม','มิถุนายน','กรกฎาคม','สิงหาคม','กันยายน','ตุลาคม','พฤศจิกายน','ธันวาคม']},
      weekdays: {en:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],
        th:['อาทิตย์','จันทร์','อังคาร','พุธ','พฤหัส','ศุกร์','เสาร์']},
      weekdaysShort:{en:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],
        th:['อา.','จ.','อ.','พ.','พฤ.','ศ.','ส.']},
    };
    let lang = localStorage.getItem('lang')||'en';
    function applyLang() {
      document.documentElement.lang = lang;
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        if (translations[key]) el.innerText = translations[key][lang];
      });
    }

    // Slot machine / date
    function randomDate() {
      const year = Math.floor(Math.random() * 25) + 2000;
      const month = Math.floor(Math.random() * 12) + 1;
      let day = 1 + Math.floor(Math.random() * 28);
      if ([4,6,9,11].includes(month)) day = Math.min(day, 30);
      if (month === 2) {
        const leap = year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
        day = Math.min(day, leap ? 29 : 28);
      }
      else if ([1,3,5,7,8,10,12].includes(month)) day = Math.min(day, 31);
      return { year, month, day };
    }
    function getDayOfWeek(year, month, day) {
      const d = new Date(year, month-1, day);
      return translations.weekdays[lang][d.getDay()];
    }
    function monthName(month) {
      return translations.months[lang][month-1];
    }
    function playRouletteWheel() { try { let s = document.getElementById('roulettewheel'); s.currentTime=0; s.play(); } catch(e){} }
    function playArcadeBeep() { try { let s = document.getElementById('arcadebeep'); s.currentTime=0; s.play(); } catch(e){} }
    function playDingSound() { try { document.getElementById('dingSound').currentTime = 0; document.getElementById('dingSound').play(); } catch (e) {} }
    function playGetReadySound() { try { document.getElementById('getready321').currentTime = 0; document.getElementById('getready321').play(); } catch (e) {} }
    // True slot machine with vertical spin + blur
    function animateDigitSlot(el, finalValue, duration=3000) {
      return new Promise(resolve => {
        let nums = [];
        for(let cycle=0;cycle<3;cycle++) for(let i=0;i<10;i++) nums.push(i);
        nums.push(finalValue);
        let idx = 0;
        el.innerHTML = ''; // clear
        let innerWheel = document.createElement('div');
        innerWheel.style.position = "absolute";
        innerWheel.style.top = "0";
        innerWheel.style.left = "0";
        innerWheel.style.right = "0";
        innerWheel.style.transition = `transform ${duration}ms cubic-bezier(.19,1.01,.38,0.99)`;
        innerWheel.style.willChange = "transform, filter";
        for(let i=0;i<nums.length;i++) {
          let ndiv = document.createElement('div');
          ndiv.textContent = nums[i];
          ndiv.style.height = "2.2em";
          ndiv.style.display = "flex";
          ndiv.style.justifyContent = "center";
          ndiv.style.alignItems = "center";
          ndiv.style.fontSize = "inherit";
          ndiv.style.fontWeight = "900";
          ndiv.style.filter = "blur(0px)";
          ndiv.className = "slot-spin";
          innerWheel.appendChild(ndiv);
        }
        el.appendChild(innerWheel);
        setTimeout(()=>{
          innerWheel.style.transform = `translateY(-${2.2*(nums.length-1)}em)`;
          innerWheel.style.filter = "blur(3px)";
        },50);
        setTimeout(()=>{
          innerWheel.style.filter = "blur(0)";
        }, duration-400);
        setTimeout(()=>{
          el.innerHTML = '';
          let ndiv = document.createElement('div');
          ndiv.textContent = finalValue;
          ndiv.className = "slot-inner-gold";
          el.appendChild(ndiv);
          resolve();
        }, duration+40);
      });
    }
    function pad2(n) { return n.toString().padStart(2,'0'); }
    function pad4(n) { return n.toString().padStart(4,'0'); }
    function splitDigits(n, padLen=2) {
      let s = n.toString().padStart(padLen,'0');
      return s.split('');
    }
    function renderSlotBar(day, month, year, onDone) {
      const bar = document.getElementById('slotMachineBar');
      bar.innerHTML = '';
      let dayDigits = splitDigits(day,2);
      let monthDigits = splitDigits(month,2);
      let yearDigits = splitDigits(year,4);
      function renderGroup(digits, groupId) {
        let group = document.createElement('div');
        group.className = 'slot-digit-group';
        digits.forEach((digit,i)=>{
          let slot = document.createElement('div');
          slot.className = 'slot-container-gold';
          let inner = document.createElement('div');
          inner.className = 'slot-inner-gold';
          inner.id = `slot-${groupId}-${i}`;
          inner.textContent = '–';
          slot.appendChild(inner);
          group.appendChild(slot);
        });
        return group;
      }
      bar.appendChild(renderGroup(dayDigits,'day'));
      let sep1 = document.createElement('div'); sep1.className='slot-separator'; sep1.textContent='/';
      bar.appendChild(sep1);
      bar.appendChild(renderGroup(monthDigits,'month'));
      let sep2 = document.createElement('div'); sep2.className='slot-separator'; sep2.textContent='/';
      bar.appendChild(sep2);
      bar.appendChild(renderGroup(yearDigits,'year'));
      playRouletteWheel();
      let promises = [];
      dayDigits.forEach((digit,i)=>{
        let el = document.getElementById(`slot-day-${i}`);
        promises.push(animateDigitSlot(el, digit, 3000));
      });
      monthDigits.forEach((digit,i)=>{
        let el = document.getElementById(`slot-month-${i}`);
        promises.push(animateDigitSlot(el, digit, 3000));
      });
      yearDigits.forEach((digit,i)=>{
        let el = document.getElementById(`slot-year-${i}`);
        promises.push(animateDigitSlot(el, digit, 3000));
      });
      Promise.all(promises).then(()=>{
        setTimeout(()=>{
          playArcadeBeep();
          if (onDone) onDone();
        }, 70);
      });
    }
function createCalendar(year, month, day) {
  const d = new Date(year, month-1, 1);
  const firstDay = d.getDay(); // 0=Sun
  d.setMonth(month, 0);
  const lastDate = d.getDate();

  let html = `<table class="calendar-table"><thead><tr>
    <th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th>
    <th>Thu</th><th>Fri</th><th>Sat</th>
  </tr></thead><tbody>`;

  let dayCounter = 1;
  for (let week = 0; dayCounter <= lastDate; week++) {
    html += "<tr>";
    for (let i = 0; i < 7; i++) {
      // If we're on the first week, skip days before firstDay
      if (week === 0 && i < firstDay) {
        html += "<td></td>";
      } else if (dayCounter > lastDate) {
        html += "<td></td>";
      } else {
        html += `<td${dayCounter == day ? ' class="calendar-today"' : ""}>${dayCounter}</td>`;
        dayCounter++;
      }
    }
    html += "</tr>";
  }
  html += "</tbody></table>";
  return html;
}
    // --- Main Logic ---
    let currentQuestion = null;
    let currentDayName = "";
    let thaiYear = false;
    let hideSlotsTimeout = null;
    let lastSpeed = 4;

    function showSettings() {
      document.getElementById('settingsBox').style.display = "";
      document.getElementById('lotteryRow').style.display = "none";
      document.getElementById('calendarBox').style.display = "none";
      document.getElementById('bottomControls').style.display = "none";
      document.getElementById('calendarShowAnswerBtn').style.display = "none";
      document.getElementById('calendarNextBtn').style.display = "none";
      clearTimeout(hideSlotsTimeout);
    }

    function startGetReady(onDone) {
      const overlay = document.getElementById('getreadyOverlay');
      const text = document.getElementById('getreadyText');
      const count = document.getElementById('getreadyCount');
      text.textContent = translations.get_ready[lang];
      overlay.style.display = 'flex';
      text.style.display = '';
      count.style.display = '';
      count.textContent = '';
      playGetReadySound();
      setTimeout(() => { text.style.display = 'none'; count.style.display = ''; count.textContent = '3'; }, 850);
      setTimeout(() => { count.textContent = '2'; }, 1850);
      setTimeout(() => { count.textContent = '1'; }, 2850);
      setTimeout(() => { count.textContent = translations.go[lang]; }, 3850);
      setTimeout(() => {
        overlay.style.display = 'none';
        count.textContent = '';
        onDone();
      }, 4950);
    }

    function doGameRound() {
      document.getElementById('settingsBox').style.display = "none";
      document.getElementById('calendarBox').style.display = "none";
      document.getElementById('lotteryRow').style.display = "";
      document.getElementById('bottomControls').style.display = "";
      document.getElementById('calendarShowAnswerBtn').style.display = "none";
      document.getElementById('calendarNextBtn').style.display = "none";
      thaiYear = document.getElementById('thaiYearToggle').checked;
      let q = randomDate();
      currentQuestion = q;
      currentDayName = getDayOfWeek(q.year, q.month, q.day);
      let yearDisplay = thaiYear ? (q.year+543) : q.year;
      renderSlotBar(q.day, q.month, yearDisplay, ()=>{
        // After slot spin and arcade beep, start the user timer!
        setTimeout(()=>{
          document.getElementById('calendarShowAnswerBtn').style.display = "";
          hideSlotsTimeout = setTimeout(()=>{
            document.getElementById('lotteryRow').style.display = "none";
            document.getElementById('calendarShowAnswerBtn').style.display = "none";
          }, lastSpeed*1000);
        }, 2000); // arcadebeep = 2s
      });
    }

    function startGame() {
      // Read speed setting once for this game, and use for future rounds until changed
      lastSpeed = parseInt(document.getElementById('calendarSpeedInput').value) || 4;
      doGameRound();
    }

    function showAnswer() {
      playDingSound();
      document.getElementById('lotteryRow').style.display = "none";
      const q = currentQuestion;
      let yearDisplay = thaiYear ? (q.year+543) : q.year;
      const calendar = document.getElementById('calendarView');
      calendar.innerHTML = `
        <div class="calendar-month-title" style="color:#6542d7; font-size:2.1em; font-weight:900; animation:pop 0.44s;">
          ${monthName(q.month)} ${yearDisplay}
        </div>
        <div class="calendar-day-label" style="animation:pop 0.77s cubic-bezier(.14,2.1,.32,1.07); color:#e32155; font-size:3em;">
          ${currentDayName}
        </div>
        ${createCalendar(yearDisplay, q.month, q.day)}
      `;
      document.getElementById('calendarBox').style.display = "flex";
      calendar.classList.add("calendar-animate");
      setTimeout(()=>calendar.classList.remove("calendar-animate"),500);
      document.getElementById('calendarShowAnswerBtn').style.display = "none";
      document.getElementById('calendarNextBtn').style.display = "";
    }

    function nextRound() {
      document.getElementById('calendarBox').style.display = "none";
      document.getElementById('calendarShowAnswerBtn').style.display = "none";
      document.getElementById('calendarNextBtn').style.display = "none";
      startGetReady(doGameRound);
    }

    document.getElementById('calendarStartBtn').onclick = function(){
      lastSpeed = parseInt(document.getElementById('calendarSpeedInput').value) || 4;
      startGetReady(doGameRound);
    };
    document.getElementById('calendarShowAnswerBtn').onclick = function(){
      showAnswer();
      this.style.display = "none";
    };
    document.getElementById('calendarNextBtn').onclick = nextRound;
    document.getElementById('calendarBackBtn').onclick = showSettings;
    document.getElementById('thaiYearToggle').onchange = function() {};

    // Language
    applyLang();
    showSettings();
  </script>
</body>
</html>
